name: Test Github Action
author: ahsayde
description: 'test github actions'
inputs:
  webhook:
    description: magalix guard webhook
    required: true
  
  directory:
    description: root directory
    default: '.'
    required: false

  github-token:
    default: ${{ github.token }}

  repo:
    default: ${{ github.repository }}
  
  branch:
    default: ${{ github.ref }}
  
  commit:
    default: ${{ github.sha }}

branding:
  icon: shield
  color: purple

runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - --webhook
    - ${{ inputs.webhook }}
    - --directory
    - ${{ inputs.directory }}
    - --repo
    - ${{ inputs.repo }}
    - --branch
    - ${{ inputs.branch }}
    - --commit
    - ${{ inputs.commit }}
    - --github-token
    - ${{ inputs.github-token }}
